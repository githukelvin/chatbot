let apiKey="af3e931af7msh969a6d607ccfbcfp138f9ajsn511cb713654e",openchatBot=document.querySelector("#open"),closechatBot=document.querySelector("#close"),closeChat=document.querySelector("#closeChat"),sendBtn=document.getElementById("sendBtn"),ul=document.querySelector("ul"),chatbot=document.querySelector(".chatbot"),text=document.getElementById("chatInput"),lang=document.querySelector("#langs"),souc=document.querySelector("#lans"),dispMessage=(e,t,a)=>{let l=document.createElement("li");if("incoming"===t){let c=document.createElement("span");c.innerText="chat",c.classList.add("material-symbols-outlined"),l.appendChild(c),handlechat(t,l,e,a),ul.appendChild(l)}else"outcoming"===t&&(handlechat(t,l,e),ul.appendChild(l))},handlechat=(e,t,a,l)=>{t.classList.add("chat",e,l);let c=document.createElement("p");c.innerHTML=a,t.appendChild(c)},fetchData=async(e,t,a)=>{let l={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded","X-RapidAPI-Key":apiKey,"X-RapidAPI-Host":"text-translator2.p.rapidapi.com"},body:new URLSearchParams({source_language:a,target_language:t,text:e})};try{let c=await fetch("https://text-translator2.p.rapidapi.com/translate",l),s=await c.text(),n=JSON.parse(s);dispMessage(n.data.translatedText,"incoming"),ul.scrollTo(0,ul.scrollHeight)}catch(i){dispMessage("The Query failed please check Your Inputs \uD83D\uDE25\uD83D\uDE25","incoming","error")}};function addheigh(e){e.ctrlKey&&"v"===e.key?text.style.height=`${70+text.scrollHeight}px`:"Enter"===e.key&&(text.style.height=`${30+text.scrollHeight}px`)}function closed(){openchatBot.classList.toggle("active"),closechatBot.classList.toggle("active"),chatbot.classList.remove("active")}sendBtn.addEventListener("click",()=>{let e=text.value.trim(),t=lang.value,a=souc.value;0==e.length?dispMessage("Enter a input or message","incoming"):(dispMessage(e,"outcoming"),setTimeout(()=>{dispMessage("Generating ...","incoming","gen");let e=document.querySelector(".gen");setTimeout(()=>{e.remove()},600)},600),setTimeout(()=>{fetchData(e,t,a)},700),text.value="",text.style.height="55px")}),text.addEventListener("keydown",addheigh),openchatBot.addEventListener("click",()=>{openchatBot.classList.add("active"),closechatBot.classList.toggle("active"),chatbot.classList.add("active")}),closechatBot.addEventListener("click",closed),closeChat.addEventListener("click",closed);